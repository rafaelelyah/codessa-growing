@use '../sprouts/behaviors';
@use '../sprouts/structures';
@use '../soils';

// ========================================
// TRUNK — NAVIGATION SIDEBAR
// ========================================
// Componente de navegação lateral usando Trunk-first + Sprout-driven approach.
// Sistema de herança: base contém apenas sprouts funcionais, variants adicionam visual.

// ----------------------------------------
// SIDEBAR BASE - APENAS SPROUTS FUNCIONAIS (compartilhados por TODAS)
// ----------------------------------------

// @html-children: auto
.nav-sidebar {
  // Apenas sprouts funcionais - sem estilizações visuais
  @include sprout-fixed($position: left);
  @include sprout-height-vh(100);
  @include sprout-flex-column($gap: 'md', $align: 'flex-start', $justify: 'flex-start');
  @include sprout-padding-inline('md');
  @include sprout-padding-block('lg');
  overflow-y: auto;

  // Estrutura básica da lista - apenas layout funcional
  .ul-sidebar {
    @include sprout-flex-column($gap: 'sm');
    flex: 1;
    width: 100%;

    .li-sidebar {
      @include sprout-flex-row($gap: 'sm', $align: 'center');
      @include sprout-padding-block('sm');
      @include sprout-padding-inline('md');
      width: 100%;
    }
  }
}

// ----------------------------------------
// VARIANT: LEFT - Herda base + estilizações visuais específicas
// ----------------------------------------

.nav-sidebar-left {
  @extend .nav-sidebar;

  // Estilizações visuais específicas para left
  z-index: var(--z-index-fixed);
  background-color: var(--surface-primary);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);

  .ul-sidebar-left {
    @extend .ul-sidebar;

    .li-sidebar-left {
      @extend .li-sidebar;

      // Estilizações visuais específicas
      color: var(--text-secondary);
      border-radius: var(--radius-sm);
      transition: all var(--duration-fast) var(--timing-smooth);

      &:hover {
        background-color: var(--surface-hover);
        color: var(--text-primary);
        transform: translateX(2px);
      }

      &.active {
        background-color: var(--interactive-primary);
        color: var(--text-on-interactive);
        font-weight: var(--font-semibold);
      }
    }
  }
}

// ----------------------------------------
// VARIANT: TOP - Herda base + mudanças funcionais + visual específicas
// ----------------------------------------

.nav-sidebar-top {
  @extend .nav-sidebar;

  // Mudanças funcionais
  @include sprout-fixed($position: top);
  width: 100%;
  height: auto;
  @include sprout-height-vh(15);
  top: 0;
  left: 0;
  right: 0;
  @include sprout-flex-column($gap: 'sm', $align: 'center', $justify: 'center');

  // Estilizações visuais específicas para top
  z-index: var(--z-index-fixed);
  background-color: var(--surface-primary);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);

  .ul-sidebar-top {
    @extend .ul-sidebar;
    @include sprout-flex-row($gap: 'lg', $align: 'center', $justify: 'center');
    flex: 1;
    width: 100%;
    height: 100%;

    .li-sidebar-top {
      @extend .li-sidebar;
      @include sprout-flex-row($gap: 'sm', $align: 'center');
      white-space: nowrap;
      flex-shrink: 0;

      // Estilizações visuais específicas
      color: var(--text-secondary);
      border-radius: var(--radius-sm);
      transition: all var(--duration-fast) var(--timing-smooth);

      &:hover {
        background-color: var(--surface-hover);
        color: var(--text-primary);
        transform: translateY(-1px);
      }

      &.active {
        background-color: var(--interactive-primary);
        color: var(--text-on-interactive);
        font-weight: var(--font-semibold);
      }
    }
  }
}

// ----------------------------------------
// VARIANT: RIGHT - Herda base + mudança mínima + visual específicas
// ----------------------------------------

.nav-sidebar-right {
  @extend .nav-sidebar;

  // Mudança funcional mínima
  @include sprout-fixed($position: right);
  right: 0;

  // Estilizações visuais específicas para right
  z-index: var(--z-index-fixed);
  background-color: var(--surface-primary);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);

  .ul-sidebar-right {
    @extend .ul-sidebar;

    .li-sidebar-right {
      @extend .li-sidebar;

      // Estilizações visuais específicas
      color: var(--text-secondary);
      border-radius: var(--radius-sm);
      transition: all var(--duration-fast) var(--timing-smooth);

      &:hover {
        background-color: var(--surface-hover);
        color: var(--text-primary);
        transform: translateX(-2px);
      }

      &.active {
        background-color: var(--interactive-primary);
        color: var(--text-on-interactive);
        font-weight: var(--font-semibold);
      }
    }
  }
}

// ----------------------------------------
// VARIANT: BOTTOM - Herda base + mudanças funcionais + visual específicas
// ----------------------------------------

.nav-sidebar-bottom {
  @extend .nav-sidebar;

  // Mudanças funcionais
  @include sprout-fixed($position: bottom);
  width: 100%;
  height: auto;
  @include sprout-height-vh(15);
  bottom: 0;
  left: 0;
  right: 0;
  @include sprout-flex-column($gap: 'sm', $align: 'center', $justify: 'center');

  // Estilizações visuais específicas para bottom
  z-index: var(--z-index-fixed);
  background-color: var(--surface-primary);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);

  .ul-sidebar-bottom {
    @extend .ul-sidebar;
    @include sprout-flex-row($gap: 'lg', $align: 'center', $justify: 'center');
    flex: 1;
    width: 100%;
    height: 100%;

    .li-sidebar-bottom {
      @extend .li-sidebar;
      @include sprout-flex-row($gap: 'sm', $align: 'center');
      white-space: nowrap;
      flex-shrink: 0;

      // Estilizações visuais específicas
      color: var(--text-secondary);
      border-radius: var(--radius-sm);
      transition: all var(--duration-fast) var(--timing-smooth);

      &:hover {
        background-color: var(--surface-hover);
        color: var(--text-primary);
        transform: translateY(1px);
      }

      &.active {
        background-color: var(--interactive-primary);
        color: var(--text-on-interactive);
        font-weight: var(--font-semibold);
      }
    }
  }
}

// ========================================
// SIMPLE NAV TRUNKS FOR TESTING
// ========================================

// Nav - Simple horizontal navigation
.nav-simple {
  background-color: var(--bg-primary);
  @include sprout-padding-block('md');
  @include sprout-flex-row($gap: 'lg', $align: 'center', $justify: 'space-between');
}

// Nav - Compact navigation
.nav-compact {
  background-color: var(--bg-secondary);
  @include sprout-padding-inline('sm');
  @include sprout-flex-row($gap: 'md', $align: 'center');
}

// Nav - Dark theme navigation
.nav-dark {
  background-color: var(--bg-dark);
  color: var(--text-light);
  @include sprout-padding-block('lg');
  @include sprout-flex-row($gap: 'xl', $align: 'center', $justify: 'center');
}