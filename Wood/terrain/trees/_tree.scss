@use '../soils' as soil;

// ========================================
// TREE ‚Äî DEVELOPMENT COMPONENTS
// ========================================
// Components organized by type for better maintainability

// ========================================
// üå± SPROUTS SECTION (Dependencies & Behaviors)
// ========================================
// Sprouts are placed at the top so they can be used by any trunk below
// This section contains mixins, functions, and utility behaviors

// ----------------------------------------
// CONTEXT COLORS SPROUT
// ----------------------------------------
// Mixin para aplicar cores de contexto a elementos
// Usa as vari√°veis CSS do soil diretamente

@mixin sprout-context-colors(
  $bg-context: null,
  $text-context: null,
  $border-context: null,

) {
  // Se nenhum par√¢metro for passado, usa 'primary' para tudo
  $bg: if($bg-context == null, 'primary', $bg-context);
  $text: if($text-context == null, 'primary', $text-context);
  $border: if($border-context == null, 'primary', $border-context);

  // Aplicar background se especificado
  background-color: var(--bg-#{$bg});

  // Aplicar texto se especificado
  color: var(--text-#{$text});

  // Sempre aplicar border-width e border-style por padr√£o

  // Aplicar border-color se especificado
  border-color: var(--border-#{$border});
}

// ========================================
// üå≥ TRUNKS SECTION (Main Components)
// ========================================
// Trunks are the main structural components of your design system
// They can use any sprout from above

// ----------------------------------------
// BUTTON TRUNK
// ----------------------------------------
.btn {
  // Apply default context colors (primary)
  @include sprout-context-colors();
    border-width: var(--border-width);
    border-style: var(--border-style);
    padding: 5px;

  // Interactive states
  &:hover {
    @include sprout-context-colors($bg-context: 'error', $text-context: 'secondary', $border-context: 'error');


  }

  &:active {
    @include sprout-context-colors($bg-context: 'muted', $text-context: 'muted', $border-context: 'muted');
  }

  &:focus {
    outline: 2px solid var(--border-primary);
    outline-offset: 2px;
  }

  // Context variants using BEM methodology
  &--success {
    @include sprout-context-colors($bg-context: 'success', $text-context: 'success', $border-context: 'success');
  }

  &--error {
    @include sprout-context-colors($bg-context: 'error', $text-context: 'error', $border-context: 'error');
  }

  &--warning {
    @include sprout-context-colors($bg-context: 'warning', $text-context: 'warning', $border-context: 'warning');
  }

  &--info {
    @include sprout-context-colors($bg-context: 'info', $text-context: 'info', $border-context: 'info');
  }

  // Size variants
}

// ----------------------------------------
// DIV TRUNK
// ----------------------------------------
.div {
  // Aplicar cores via sprout (contexto padr√£o: subtle)
  @include sprout-context-colors();

  // Variants de contexto
  &.div--primary {
    @include sprout-context-colors($bg-context: 'primary');
  }

  &:hover {
    @include sprout-context-colors($bg-context: 'success');
  }

  &.div--error {
    @include sprout-context-colors($bg-context: 'error');
  }

  &.div--warning {
    @include sprout-context-colors($bg-context: 'warning');
  }

  &.div--info {
    @include sprout-context-colors($bg-context: 'info');
  }
}

// ----------------------------------------
// HEADER TRUNK
// ----------------------------------------
.header {
  // Aplicar cores via sprout (contexto padr√£o: primary)
  @include sprout-context-colors();

  // Variants de contexto
  &.header--muted {
    @include sprout-context-colors($bg-context: 'muted', $text-context: 'muted');
  }

  &.header--success {
    @include sprout-context-colors($bg-context: 'success', $text-context: 'success');
  }

  &.header--error {
    @include sprout-context-colors($bg-context: 'error', $text-context: 'error');
  }

  &.header--warning {
    @include sprout-context-colors($bg-context: 'warning', $text-context: 'warning');
  }

  &.header--info {
    @include sprout-context-colors($bg-context: 'info', $text-context: 'info');
  }
}

// ----------------------------------------
// BUTTON OUTLINE TRUNK (exemplo: apenas borda e texto)
// ----------------------------------------
.btn-outline {
  // Apenas borda e texto, background transparente
  @include sprout-context-colors($text-context: 'primary', $border-context: 'primary');

  &:hover {
    @include sprout-context-colors($text-context: 'secondary', $border-context: 'secondary');
  }

  &--success {
    @include sprout-context-colors($text-context: 'success', $border-context: 'success');
  }
}

// ========================================
// üçÉ LEAFS SECTION (Utilities & Overrides)
// ========================================
// Leafs are placed at the bottom for final styling adjustments
// They can override any trunk or sprout above