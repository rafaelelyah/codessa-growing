@use '../seeds/scale';
@use '../seeds/motion';
@use '../seeds/palette';

// ========================================
// SPROUTS — BEHAVIORAL CONSTRUCTORS
// ========================================
// Mixins para aplicar transições, animações e efeitos.

// ----------------------------------------
// POSITION BEHAVIORS
// ----------------------------------------

@mixin sprout-position(
  $position: 'static',
  $top: null,
  $left: null,
  $right: null,
  $bottom: null,
  $z-index: null
) {
  position: #{$position};

  @if $top != null {
    top: #{$top};
  }

  @if $left != null {
    left: #{$left};
  }

  @if $right != null {
    right: #{$right};
  }

  @if $bottom != null {
    bottom: #{$bottom};
  }

  @if $z-index != null {
    z-index: #{$z-index};
  }
}

@mixin sprout-sticky($position: 'top') {
  @include sprout-position(
    $position: sticky,
    $z-index: var(--z-index-sticky)
  );

  @if $position == 'top' {
    top: 0;
  } @else if $position == 'bottom' {
    bottom: 0;
  } @else if $position == 'left' {
    left: 0;
  } @else if $position == 'right' {
    right: 0;
  }
}

@mixin sprout-fixed($position: 'top') {
  @include sprout-position(
    $position: fixed,
    $z-index: var(--z-index-fixed)
  );

  @if $position == 'top' {
    top: 0;
  } @else if $position == 'bottom' {
    bottom: 0;
  } @else if $position == 'left' {
    left: 0;
  } @else if $position == 'right' {
    right: 0;
  }
}

// ----------------------------------------
// TRANSITIONS
// ----------------------------------------

@mixin sprout-transition(
  $props: 'all',
  $duration: 'base',
  $timing: 'smooth'
) {
  transition: #{$props} var(--duration-#{$duration}) var(--timing-#{$timing});
}

// ----------------------------------------
// ANIMATIONS
// ----------------------------------------

@mixin sprout-animation-fade-in($duration: 'base') {
  animation: sprout-fade-in var(--duration-#{$duration}) var(--timing-smooth) forwards;
}

@mixin sprout-animation-fade-out($duration: 'base') {
  animation: sprout-fade-out var(--duration-#{$duration}) var(--timing-smooth) forwards;
}

@keyframes sprout-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes sprout-fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

// ----------------------------------------
// EFFECTS
// ----------------------------------------

@mixin sprout-effect-scale($scale: 1.05) {
  transform: scale($scale);
}

@mixin sprout-effect-muted($opacity: '6') {
  opacity: var(--opacity-#{$opacity});
}

@mixin sprout-effect-blur($amount: 4px) {
  filter: blur($amount);
}

// ----------------------------------------
// ELEMENT CONFIGURATOR
// ----------------------------------------

@mixin sprout-element(
  // Dimensions
  $width: null,
  $height: null,
  $min-width: null,
  $min-height: null,
  $max-width: null,
  $max-height: null,

  // Position
  $position: null,
  $top: null,
  $left: null,
  $right: null,
  $bottom: null,

  // Layer
  $z-index: null
) {
  // Dimensions
  @if $width != null {
    width: #{$width};
  }

  @if $height != null {
    height: #{$height};
  }

  @if $min-width != null {
    min-width: #{$min-width};
  }

  @if $min-height != null {
    min-height: #{$min-height};
  }

  @if $max-width != null {
    max-width: #{$max-width};
  }

  @if $max-height != null {
    max-height: #{$max-height};
  }

  // Position
  @if $position != null {
    position: #{$position};
  }

  @if $top != null {
    top: #{$top};
  }

  @if $left != null {
    left: #{$left};
  }

  @if $right != null {
    right: #{$right};
  }

  @if $bottom != null {
    bottom: #{$bottom};
  }

  // Layer
  @if $z-index != null {
    z-index: #{$z-index};
  }
}

// ----------------------------------------
// PRE-CONFIGURED POSITIONING SPROUTS
// ----------------------------------------

// Fixed positioning presets
@mixin sprout-fixed-top($width: 100%, $height: auto, $z-index: 1000) {
  @include sprout-element(
    $position: fixed,
    $top: 0,
    $left: 0,
    $width: $width,
    $height: $height,
    $z-index: $z-index
  );
}

@mixin sprout-fixed-bottom($width: 100%, $height: auto, $z-index: 1000) {
  @include sprout-element(
    $position: fixed,
    $bottom: 0,
    $left: 0,
    $width: $width,
    $height: $height,
    $z-index: $z-index
  );
}

@mixin sprout-fixed-left($width: auto, $height: 100vh, $z-index: 1000) {
  @include sprout-element(
    $position: fixed,
    $top: 0,
    $left: 0,
    $width: $width,
    $height: $height,
    $z-index: $z-index
  );
}

@mixin sprout-fixed-right($width: auto, $height: 100vh, $z-index: 1000) {
  @include sprout-element(
    $position: fixed,
    $top: 0,
    $right: 0,
    $width: $width,
    $height: $height,
    $z-index: $z-index
  );
}

// Sticky positioning presets
@mixin sprout-sticky-top($z-index: 100) {
  @include sprout-element(
    $position: sticky,
    $top: 0,
    $z-index: $z-index
  );
}

@mixin sprout-sticky-bottom($z-index: 100) {
  @include sprout-element(
    $position: sticky,
    $bottom: 0,
    $z-index: $z-index
  );
}

// Floating button preset
@mixin sprout-floating-center($size: 56px, $z-index: 999) {
  @include sprout-element(
    $position: fixed,
    $width: $size,
    $height: $size,
    $top: 50%,
    $left: 50%,
    $z-index: $z-index,
    $max-width: $size,
    $max-height: $size
  );

  transform: translate(-50%, -50%);
}

// Dimension presets (viewport mixins moved to _layout.scss)